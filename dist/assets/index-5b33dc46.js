import{u as ee}from"./resources-e1807ce6.js";import{s as te}from"./staticResources-5239e89b.js";import{A as oe,j as le,r as d,k as f,y as $,q as se,a as n,o as y,c as h,w as a,f as ae,b as l,d as ne,n as ce,F as de,g as v,p as ue,h as re,e as m,t as p}from"./index-6b729fcd.js";import{t as T,w as S}from"./topics-a056943b.js";import{b as D}from"./route-block-83d24a4e.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";import"./apolloClient-3b54e56b.js";const b=g=>(ue("data-v-1fdda27b"),g=g(),re(),g),pe={class:"resource-icon"},me={class:"resource-name"},ve=b(()=>m("h3",{color:"#b5b1b2",class:"text-h10 mb-4 ml-44 mt-2"}," Specify the resources to get started. The input values are optional. ",-1)),ge=b(()=>m("br",null,null,-1)),_e=b(()=>m("br",null,null,-1)),fe=b(()=>m("br",null,null,-1)),F=oe({__name:"index",setup(g){const{resourceType:ye,staticResources:R}=te;console.log({staticResourcesTypes:R.value});const x=le(),P=d(Object.keys(T)),_=d(!1),r=d(!1),o=d({selectedSubject:"",selectedTopicConcept:"",selectedTopic:"",selectedTargetRegion:"",selectedCountry:"",selectedLanguage:""}),C=d([]),w=d([]),V=d([]),k=d([]);f(()=>o.value.selectedSubject,e=>{o.value.selectedTopicConcept="",o.value.selectedTopic="",C.value=e?A(e,T):[]}),f(()=>o.value.selectedTopicConcept,e=>{o.value.selectedTopic="",w.value=e?J(o.value.selectedSubject,e,T):[]}),f(()=>o.value.selectedTopic,e=>{}),f(()=>o.value.selectedTargetRegion,e=>{o.value.selectedCountry="",o.value.selectedLanguage="",V.value=e?q(e):[],k.value=e?G(e):[]});function A(e,t){if(!t.hasOwnProperty(e))throw new Error(`Subject ${e} not found in schema.`);return Object.keys(t[e])}function J(e,t,c){if(!c.hasOwnProperty(e))throw new Error(`Subject "${e}" not found in schema.`);if(!c[e].hasOwnProperty(t))throw new Error(`Concept "${t}" not found in subject "${e}".`);return c[e][t]}function q(e){const t=S[e];return t?t.countries:void 0}function G(e){const t=S[e];return t?t.languages.map(c=>c.name):void 0}const M=$(()=>Object.keys(S).filter(e=>e==="Global"||e.includes("Africa"))),L=ee(),W=$(()=>R.value.map(e=>{const t=L.resources.filter(c=>c.contentType===e.type);return{...e,resourceCount:t.length}}));function j(e){const t=[{resourceType:e.type,selectedSubject:o.value.selectedSubject,selectedTopicConcept:o.value.selectedTopicConcept,selectedTopic:o.value.selectedTopic,selectedTargetRegion:o.value.selectedTargetRegion,selectedCountry:o.value.selectedCountry,selectedLanguage:o.value.selectedLanguage}];if(localStorage.setItem("queryParams",JSON.stringify(t)),e.type==="TEST"){x.push("/exam/mocks"),r.value=!1;return}x.push("/dashboard/player"),r.value=!1}function z(){_.value=!1,r.value=!0;let e=localStorage.getItem("targetResource");e=JSON.parse(e)[0],j(e)}function H(e){let t=[e];t=JSON.stringify(t),localStorage.setItem("targetResource",t),_.value=!0}return se(()=>{L.getAllResources()}),(e,t)=>{const c=n("v-progress-linear"),O=n("v-card-text"),K=n("v-card-title"),B=n("v-divider"),I=n("v-btn"),N=n("v-card-actions"),U=n("v-card"),u=n("v-col"),E=n("v-row"),i=n("v-select"),Q=n("v-dialog"),X=n("v-container");return y(),h(X,{class:"my-5"},{default:a(()=>[r.value?(y(),h(c,{key:0,color:"#212121",indeterminate:""})):ae("",!0),l(E,null,{default:a(()=>[(y(!0),ne(de,null,ce(W.value,(s,Y)=>(y(),h(u,{key:Y,cols:"12",md:"6",lg:"4",xl:"4"},{default:a(()=>[l(U,{class:"mx-auto my-3 resource-card","max-width":"540",height:"13.5rem",disabled:s.resourceCount===0,outlined:""},{default:a(()=>[l(K,{style:{cursor:"pointer"},disabled:r.value,onClick:Z=>H(s),color:"#08487f",class:"d-flex align-center justify-space-between"},{default:a(()=>[m("span",pe,p(s.icon),1),m("span",me,[v(p(s.name)+" ("+p(s.resourceCount)+") ",1),l(O,{class:"text-h11"},{default:a(()=>[v(p(s.type),1)]),_:2},1024)])]),_:2},1032,["disabled","onClick"]),l(B),l(O,{class:"resource-description text-h7 py-2"},{default:a(()=>[v(p(s.description),1)]),_:2},1024),l(N,{class:"fixed-actions mb-1"},{default:a(()=>[l(I,{"append-icon":"mdi-chevron-right",color:"#08487f",variant:"outlined",block:"",onClick:Z=>j(s),disabled:!r.value},{default:a(()=>[v(" Explore "+p(s.name)+" resources ",1)]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1032,["disabled"])]),_:2},1024))),128))]),_:1}),l(Q,{width:"87%",modelValue:_.value,"onUpdate:modelValue":t[6]||(t[6]=s=>_.value=s),style:{overflow:"hidden"}},{default:a(()=>[l(U,{flat:"",height:"13.5rem",class:"ma-4",style:{padding:"0"}},{default:a(()=>[ve,l(B),ge,l(E,{"no-gutters":""},{default:a(()=>[l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedSubject,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.selectedSubject=s),items:P.value,label:"Subject",dense:"",outlined:"",hint:"What do you want to study?","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedTopicConcept,"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.selectedTopicConcept=s),items:C.value,label:"Resource Level",hint:"Resource Level",dense:"",outlined:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedTopic,"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.selectedTopic=s),items:w.value,label:"Topic to study",hint:"Topic to study",dense:"",outlined:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedTargetRegion,"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.selectedTargetRegion=s),items:M.value,label:"Resource target Region",hint:"Resource target Region",dense:"",outlined:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedCountry,"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.selectedCountry=s),items:V.value,label:"Select country",hint:"Resource target country",dense:"",outlined:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"2",style:{padding:"0 8px"}},{default:a(()=>[l(i,{modelValue:o.value.selectedLanguage,"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.selectedLanguage=s),items:k.value,label:"Language",hint:"Resource Language",dense:"",outlined:"","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1}),_e,fe,l(N,{class:"fixed-actions mb-1"},{default:a(()=>[l(I,{"append-icon":"mdi-chevron-right",color:"#08487f",variant:"outlined",block:"",onClick:z},{default:a(()=>[v(" Save selections and get resources ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});typeof D=="function"&&D(F);const we=ie(F,[["__scopeId","data-v-1fdda27b"]]);export{we as default};
