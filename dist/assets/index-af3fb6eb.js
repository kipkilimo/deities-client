import{u as L}from"./resources-c352f549.js";import{q as M,r as u,x as U,z as $,l as q,a,o as i,c as m,w as o,b as e,u as H,f as S,A as z,d as T,n as J,F as Q,g as b,t as p}from"./index-29b1d87f.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{b as k}from"./route-block-83d24a4e.js";import"./apolloClient-3b54e56b.js";const G=M({__name:"EventPlayerHandler",setup(D){const c=L(),x=u(["Title","Date Created","Subject"]),E=u(["Biostatistics","Probability Theory"]),v=u(""),d=u(""),f=u(""),y=u({}),g=u(!1),N=(l,t)=>l?l.length>t?l.substring(0,t)+"...":l:"",A=U(()=>{let l=c.resources.filter(t=>{const r=t.title?t.title.toLowerCase().includes(v.value.toLowerCase()):!1,n=!f.value||t.subject===f.value;return r&&n});return d.value==="Title"?l=l.sort((t,r)=>t.title.localeCompare(r.title)):d.value==="Date Created"?l=l.sort((t,r)=>new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime()):d.value==="Subject"&&(l=l.sort((t,r)=>t.subject.localeCompare(r.subject))),l}),h=async l=>{g.value=!1,await c.fetchResource(l.id),y.value=c.resource,g.value=!0};return $(async()=>{const l=[{resourceType:"EVENT",subject:"",topic:"",country:"",targetRegion:"",language:""}];await c.getAllSpecificTypeResources(JSON.stringify(l)),h(c.resources[0])}),q(()=>{}),(l,t)=>{const r=a("v-select"),n=a("v-col"),B=a("v-text-field"),_=a("v-row"),F=a("v-divider"),C=a("v-img"),w=a("v-card"),V=a("v-container"),O=a("v-card-title"),P=a("v-card-subtitle"),I=a("v-card-text");return i(),m(V,{style:{"font-family":"'Inter', 'Noto Sans', sans-serif"},fluid:""},{default:o(()=>[e(_,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(_,{align:"center"},{default:o(()=>[e(n,{cols:"12",md:"4"},{default:o(()=>[e(r,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),items:x.value,label:"Sort by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",md:"4"},{default:o(()=>[e(r,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),items:E.value,label:"Filter by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",md:"4"},{default:o(()=>[e(B,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),label:"Search",clearable:"",dense:"","prepend-inner-icon":"mdi-file-search",style:{"max-height":"67%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{class:"mb-2"}),e(_,null,{default:o(()=>[e(n,{cols:"12",md:"10"},{default:o(()=>[l.resourceComponent?S("",!0):(i(),m(w,{key:0,fluid:"",onClick:t[3]||(t[3]=s=>h(H(c).resources[0])),height:"63vh",style:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer","border-radius":"5px 5px 0px 0px !important"}},{default:o(()=>[e(C,{height:"21vh",class:"mt-24 ma-4",style:{cursor:"pointer"},src:"https://cdn-icons-png.flaticon.com/512/907/907805.png"})]),_:1})),y.value&&g.value?(i(),m(V,{key:1,fluid:""},{default:o(()=>[(i(),m(z(l.resourceComponent),{resource:y.value},null,8,["resource"]))]),_:1})):S("",!0)]),_:1}),e(n,{cols:"12",md:"2"},{default:o(()=>[e(_,{class:"overflow-y-auto mt-1",style:{height:"400px","max-height":"400px"}},{default:o(()=>[(i(!0),T(Q,null,J(A.value,(s,W)=>(i(),m(n,{key:s.id,class:"pa-0"},{default:o(()=>[e(w,{fluid:"",class:"mb-2",height:"4.5rem",onClick:X=>h(s)},{default:o(()=>[e(_,{"no-gutters":""},{default:o(()=>[e(n,{cols:"4"},{default:o(()=>[e(C,{height:"4.5rem",src:s.coverImage},null,8,["src"])]),_:2},1024),e(n,{cols:"8"},{default:o(()=>[e(O,{style:{"font-weight":"700"}},{default:o(()=>[b(p(s.title),1)]),_:2},1024),e(P,{style:{"font-weight":"400"}},{default:o(()=>[b(p(s.subject)+" - "+p(s.topic),1)]),_:2},1024),e(I,{style:{"font-weight":"400"}},{default:o(()=>[b(p(N(s.description,50)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}});const K=j(G,[["__scopeId","data-v-2ff462f0"]]);const R={__name:"index",setup(D){return(c,x)=>(i(),T("div",null,[e(K)]))}};typeof k=="function"&&k(R);const le=j(R,[["__scopeId","data-v-270dc600"]]);export{le as default};
