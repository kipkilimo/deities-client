import{V as k,A as B,_ as U,D as j,a as K,S as $,P as F,E as J,b as q,J as z,c as G,d as Q}from"./ModelPlayer-b5c36404.js";import{_ as H}from"./TestPlayer-3a29e0b0.js";import{P as W}from"./PollPlayerParticipant-f352ab8f.js";import{T as X}from"./AssignmentTaskPlayer-cd4d4a31.js";import{u as Y}from"./resources-c352f549.js";import{q as Z,r as i,x as P,z as ee,a as c,o as m,c as f,w as s,b as t,u as te,f as b,A as se,d as ae,n as oe,F as le,g as D,t as T,e as h}from"./index-29b1d87f.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";const ne={class:"text-caption font-weight-light",style:{"font-size":"0.8rem"}},ce=Z({__name:"ResourcesIterator",setup(ue){const u=Y(),o={AUDIO:"AUDIO",VIDEO:"VIDEO",IMAGES:"IMAGES",DOCUMENT:"DOCUMENT",PRESENTATION:"PRESENTATION",EVENT:"EVENT",DATASET:"DATASET",LINK:"LINK",POLL:"POLL",TEST:"TEST",POSTER:"POSTER",ARTICLE:"ARTICLE",JOB:"JOB",TASK:"TASK",MODEL:"MODEL"},x=i(["Title","Date Created","Subject"]),R=i(["Biostatistics","Probability Theory"]),y=i(""),d=i(""),v=i(""),p=i({}),g=i(!1),C=(a,e)=>a?a.length>e?a.substring(0,e)+"...":a:"",V=P(()=>{let a=u.resources.filter(e=>{const n=e.title?e.title.toLowerCase().includes(y.value.toLowerCase()):!1,r=!v.value||e.subject===v.value;return n&&r});return d.value==="Title"?a=a.sort((e,n)=>e.title.localeCompare(n.title)):d.value==="Date Created"?a=a.sort((e,n)=>new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()):d.value==="Subject"&&(a=a.sort((e,n)=>e.subject.localeCompare(n.subject))),a}),E=async a=>{g.value=!1,await u.fetchResource(a.id),p.value=u.resource,g.value=!0},S=P(()=>p.value?{[o.VIDEO]:k,[o.AUDIO]:B,[o.IMAGES]:U,[o.DATASET]:j,[o.DOCUMENT]:K,[o.PRESENTATION]:$,[o.TEST]:H,[o.POSTER]:F,[o.EVENT]:J,[o.ARTICLE]:q,[o.POLL]:W,[o.JOB]:z,[o.TASK]:X,[o.LINK]:G,[o.MODEL]:Q}[p.value.contentType]:null);return ee(async()=>{const a=localStorage.getItem("resourceType"),e=localStorage.getItem("resourceType"),n=i("");if(e!==null)await u.getAllTestResources(n.value),localStorage.removeItem("resourceType");else if(a!==null)await u.getAllTaskResources(),localStorage.removeItem("resourceType");else{const r=localStorage.getItem("queryParams")||"";await u.getAllSpecificTypeResources(r)}E(u.resources[0])}),(a,e)=>{const n=c("v-select"),r=c("v-col"),w=c("v-text-field"),_=c("v-row"),N=c("v-divider"),A=c("v-img"),O=c("v-card"),I=c("v-container"),L=c("v-card-title"),M=c("h11");return m(),f(I,{fluid:""},{default:s(()=>[t(_,null,{default:s(()=>[t(r,{cols:"12"},{default:s(()=>[t(_,{align:"center",justify:"space-between"},{default:s(()=>[t(r,{cols:"12",md:"4"},{default:s(()=>[t(n,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),items:x.value,label:"Sort by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),t(r,{cols:"12",md:"4"},{default:s(()=>[t(n,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=l=>v.value=l),items:R.value,label:"Filter by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),t(r,{cols:"12",md:"4"},{default:s(()=>[t(w,{modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=l=>y.value=l),label:"Search",clearable:"",dense:"","prepend-inner-icon":"mdi-file-search",style:{"max-height":"67%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(N,{class:"mb-2"}),t(_,null,{default:s(()=>[t(r,{cols:"12",md:"10"},{default:s(()=>[S.value?b("",!0):(m(),f(O,{key:0,fluid:"",onClick:e[3]||(e[3]=l=>E(te(u).resources[0])),height:"63vh",class:"d-flex align-center justify-center",style:{cursor:"pointer","border-radius":"5px 5px 0px 0px !important"}},{default:s(()=>[t(A,{height:"21vh",class:"mt-24 ma-4",style:{cursor:"pointer"},src:"https://cdn-icons-png.flaticon.com/512/907/907805.png"})]),_:1})),p.value&&g.value?(m(),f(I,{key:1,fluid:""},{default:s(()=>[(m(),f(se(S.value),{resource:p.value},null,8,["resource"]))]),_:1})):b("",!0)]),_:1}),t(r,{cols:"12",md:"2",class:"pr-2"},{default:s(()=>[t(_,{class:"overflow-y-auto mt-1",style:{height:"400px","max-height":"400px","overflow-y":"auto"}},{default:s(()=>[(m(!0),ae(le,null,oe(V.value,(l,ie)=>(m(),f(r,{key:l.id,class:"pa-0"},{default:s(()=>[t(O,{class:"mb-2 px-2 py-2",height:"8rem",onClick:me=>E(l),elevation:"2"},{default:s(()=>[t(_,{"no-gutters":""},{default:s(()=>[t(r,{cols:"3"},{default:s(()=>[t(A,{height:"4rem",width:"4rem",src:l.coverImage,class:"rounded"},null,8,["src"])]),_:2},1024),t(r,{cols:"9",class:"pl-2"},{default:s(()=>[t(L,{class:"text-body-1 font-weight-medium mb-1",style:{"font-size":"1rem"}},{default:s(()=>[D(T(l.title),1)]),_:2},1024),t(M,{class:"text-caption h7 font-weight-light mb-1"},{default:s(()=>[h("span",null,T(l.subject),1),D(" | "),h("span",null,T(l.topic),1)]),_:2},1024),h("p",ne,T(C(l.description,50)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}});const ge=re(ce,[["__scopeId","data-v-37c5a170"]]);export{ge as R};
