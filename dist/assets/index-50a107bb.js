import{V as F,A as G,_ as q,D as z,a as H,S as Q,P as W,E as X,b as Y,J as Z,c as ee,d as te}from"./ModelPlayer-b5c36404.js";import{_ as oe}from"./TestPlayer-3a29e0b0.js";import{P as ae}from"./PollPlayerParticipant-f352ab8f.js";import{T as le}from"./AssignmentTaskPlayer-cd4d4a31.js";import{u as se}from"./resources-c352f549.js";import{q as ne,r as u,x as h,l as re,m as ce,z as ue,a as r,o as d,c as f,w as o,b as e,u as ie,f as I,A as de,d as C,n as me,F as _e,g as O,t as T}from"./index-29b1d87f.js";import{b as D}from"./route-block-83d24a4e.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./___vite-browser-external_commonjs-proxy-698e55bb.js";import"./axios-78cd9fea.js";import"./timezoneConverter-e392b03d.js";import"./style.css_vue_type_style_index_0_src_true_lang-b904ba3d.js";import"./vue3-pdf-app.umd-5c7002a6.js";import"./PollPlayerAnalysis-37ded3df.js";import"./chart-d498817c.js";import"./TaskResponseFileUploader-09e529a5.js";import"./apolloClient-3b54e56b.js";const fe=ne({__name:"PostersPlayersHandler",setup(N){const i=se(),l={AUDIO:"AUDIO",VIDEO:"VIDEO",IMAGES:"IMAGES",DOCUMENT:"DOCUMENT",PRESENTATION:"PRESENTATION",EVENT:"EVENT",DATASET:"DATASET",LINK:"LINK",POLL:"POLL",TEST:"TEST",POSTER:"POSTER",ARTICLE:"ARTICLE",JOB:"JOB",TASK:"TASK",MODEL:"MODEL"},L=u(["Title","Date Created","Subject"]),R=u(["Biostatistics","Probability Theory"]),y=u(""),m=u(""),v=u(""),_=u({}),E=u(!1),M=(a,t)=>a?a.length>t?a.substring(0,t)+"...":a:"",w=h(()=>{let a=i.resources.filter(t=>{const c=t.title?t.title.toLowerCase().includes(y.value.toLowerCase()):!1,n=!v.value||t.subject===v.value;return c&&n});return m.value==="Title"?a=a.sort((t,c)=>t.title.localeCompare(c.title)):m.value==="Date Created"?a=a.sort((t,c)=>new Date(c.createdAt).getTime()-new Date(t.createdAt).getTime()):m.value==="Subject"&&(a=a.sort((t,c)=>t.subject.localeCompare(c.subject))),a}),g=async a=>{E.value=!1,await i.fetchResource(a.id),_.value=i.resource,E.value=!0},A=h(()=>_.value?{[l.VIDEO]:F,[l.AUDIO]:G,[l.IMAGES]:q,[l.DATASET]:z,[l.DOCUMENT]:H,[l.PRESENTATION]:Q,[l.TEST]:oe,[l.POSTER]:W,[l.EVENT]:X,[l.ARTICLE]:Y,[l.POLL]:ae,[l.JOB]:Z,[l.TASK]:le,[l.LINK]:ee,[l.MODEL]:te}[_.value.contentType]:null),S=u(0),k=u(i.resources),U=()=>{S.value=(S.value+1)%(k.value.length||1)};return re(()=>{const a=setInterval(U,15e3);ce(()=>{clearInterval(a)})}),ue(async()=>{const a=[{resourceType:"POSTER",subject:"",topic:"",country:"",targetRegion:"",language:""}];await i.getAllSpecificTypeResources(JSON.stringify(a)),g(i.resources[S.value])}),(a,t)=>{const c=r("v-select"),n=r("v-col"),B=r("v-text-field"),p=r("v-row"),j=r("v-divider"),b=r("v-img"),P=r("v-card"),x=r("v-container"),$=r("v-card-title"),J=r("v-card-subtitle"),K=r("v-card-text");return d(),f(x,null,{default:o(()=>[e(p,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(p,{align:"center"},{default:o(()=>[e(n,{cols:"4"},{default:o(()=>[e(c,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),items:L.value,label:"Sort by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"4"},{default:o(()=>[e(c,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),items:R.value,label:"Filter by",dense:"",style:{"max-height":"67%"}},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"4"},{default:o(()=>[e(B,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=s=>y.value=s),label:"Search",clearable:"",dense:"","prepend-inner-icon":"mdi-file-search",style:{"max-height":"67%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(j,{class:"mb-2"}),e(p,null,{default:o(()=>[e(n,{cols:"10"},{default:o(()=>[A.value?I("",!0):(d(),f(P,{key:0,fluid:"",onClick:t[3]||(t[3]=s=>g(ie(i).resources[0])),height:"63vh",style:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer","border-radius":"5px 5px 0px 0px !important"}},{default:o(()=>[e(b,{height:"21vh",class:"mt-24 ma-4",style:{cursor:"pointer"},src:"https://cdn-icons-png.flaticon.com/512/907/907805.png"})]),_:1})),_.value&&E.value?(d(),f(x,{key:1,fluid:""},{default:o(()=>[(d(),f(de(A.value),{resource:_.value},null,8,["resource"]))]),_:1})):I("",!0)]),_:1}),e(n,{cols:"2",class:"pr-2"},{default:o(()=>[e(p,{class:"overflow-y-auto mt-1",style:{height:"400px","max-height":"400px","overflow-y":"auto"}},{default:o(()=>[(d(!0),C(_e,null,me(w.value,(s,ve)=>(d(),f(n,{key:s.id,class:"pa-0"},{default:o(()=>[e(P,{fluid:"",class:"mb-2",height:"4.5rem",onClick:Te=>g(s)},{default:o(()=>[e(p,{"no-gutters":""},{default:o(()=>[e(n,{cols:"4"},{default:o(()=>[e(b,{height:"4.5rem",src:s.coverImage},null,8,["src"])]),_:2},1024),e(n,{cols:"8"},{default:o(()=>[e($,null,{default:o(()=>[O(T(s.title),1)]),_:2},1024),e(J,null,{default:o(()=>[O(T(s.subject)+" - "+T(s.topic),1)]),_:2},1024),e(K,null,{default:o(()=>[O(T(M(s.description,50)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}});const V={__name:"index",setup(N){return(i,l)=>(d(),C("div",null,[e(fe)]))}};typeof D=="function"&&D(V);const we=pe(V,[["__scopeId","data-v-c30c76b4"]]);export{we as default};
