import{q as j,j as z,i as E,r,l as L,a as e,o as l,c as b,w as o,b as t,e as a,t as M,u as D,L as F,g as d,v as H,f as m,d as S,p as P,h as U}from"./index-29b1d87f.js";import{u as G}from"./users-2bda64b6.js";import{b as w}from"./route-block-83d24a4e.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./apolloClient-3b54e56b.js";const i=s=>(P("data-v-91e6c82a"),s=s(),U(),s),K=i(()=>a("h3",{class:"mt-4 mr-11",style:{color:"#777777"}},"Activation link sent.",-1)),O=i(()=>a("h5",{class:"mt-4 mr-11"},[a("i",null,"Check all mailboxes.")],-1)),Q={class:"mt-4 mr-11"},W=i(()=>a("div",{class:""},null,-1)),X={class:"d-flex justify-space-between mt-4"},Y=i(()=>a("span",null," Home",-1)),Z={key:1,class:"custom-alert"},$={key:2},C=j({__name:"activate",setup(s){const p=G(),f=z(),I=E(),_=r(!1),u=r(""),v=r(""),h=r("");L(()=>{const c=I.query.token;console.log({token:c}),h.value=String(c),setTimeout(()=>{y()},3600)});const y=async()=>{_.value=!0;try{await p.activate(h.value),v.value="Successfully activated account.",setTimeout(()=>{f.push("/dashboard/overview")},4200)}catch{u.value="Failed to activate account.",setTimeout(()=>{f.push("/auth/login")},12e3)}};return(c,tt)=>{const T=e("v-img"),A=e("v-card-title"),g=e("v-icon"),x=e("v-btn"),B=e("v-tooltip"),N=e("v-form"),V=e("v-card-text"),q=e("v-progress-linear"),k=e("v-alert"),R=e("v-card");return l(),b(R,{class:"activate-card mt-4 ml-2",elevation:"4",outlined:"",rounded:""},{default:o(()=>[t(A,{class:"text-center",style:{color:"#777777"}},{default:o(()=>{var n;return[t(T,{style:{height:"12rem"},src:"https://a2z-v0.s3.eu-central-1.amazonaws.com/Screenshot+from+2024-10-22+16-31-16.png"}),K,O,a("p",Q,M((n=D(p).user)==null?void 0:n.personalInfo.email),1)]}),_:1}),W,t(V,null,{default:o(()=>[t(N,{onSubmit:F(y,["prevent"])},{default:o(()=>[a("div",X,[t(x,{disabled:"",style:{width:"12.5rem"},type:"submit",color:"primary",loading:_.value},{default:o(()=>[t(g,{class:"mr-sm"},{default:o(()=>[d("mdi-location-enter")]),_:1}),d(" Activating ... ")]),_:1},8,["loading"]),t(B,{location:"top"},{activator:o(({props:n})=>[t(x,H({color:"primary",icon:"",height:"30",variant:"outlined"},n,{to:"/welcome"}),{default:o(()=>[t(g,null,{default:o(()=>[d("mdi-home-account")]),_:1})]),_:2},1040)]),default:o(()=>[Y]),_:1})])]),_:1})]),_:1}),_.value?(l(),b(q,{key:0,color:"cyan",indeterminate:""})):m("",!0),v.value?(l(),S("div",Z,[t(k,{text:v.value,title:"Reset request sent!",type:"success",class:"custom-alert"},null,8,["text"])])):m("",!0),u.value?(l(),S("div",$,[t(k,{text:u.value,title:"Activation error",type:"error"},null,8,["text"])])):m("",!0)]),_:1})}}});typeof w=="function"&&w(C);const nt=J(C,[["__scopeId","data-v-91e6c82a"]]);export{nt as default};
