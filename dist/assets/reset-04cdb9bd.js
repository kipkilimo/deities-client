import{A as F,i as T,j as H,r as n,l as L,y as D,a as o,o as b,c as G,w as s,b as t,M as J,e as v,g as _,s as K,d as O,f as Q,p as W,h as X}from"./index-6b729fcd.js";import{u as Y}from"./users-6c6e41da.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import"./apolloClient-3b54e56b.js";const P=c=>(W("data-v-3a2b13e2"),c=c(),X(),c),$=P(()=>v("h3",{class:"mt-4 mr-11",style:{color:"#777777"}},"Password Reset",-1)),ee={class:"d-flex justify-space-between mt-4"},te=P(()=>v("span",null," Home",-1)),oe={key:0},se=F({__name:"reset",setup(c){const C=T(),f=Y(),w=H(),h=n(""),a=n(""),m=n(""),p=n(!1),d=n(""),u=n(!1),i=n(!1);L(()=>{const e=C.query.token;h.value=String(e)});const V=()=>{u.value=!u.value},k=()=>{i.value=!i.value},R=[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be at least 6 characters long",e=>e&&e.length<=12||"Password must not exceed 12 characters"],S=[e=>!!e||"Confirm password is required",e=>e===a.value||"Passwords do not match"],I=D(()=>!a.value||a.value.length<6||a.value.length>12||a.value!==m.value),q=async()=>{var e;p.value=!0,d.value="";try{await f.resetPassword(h.value,a.value),((e=f.user)==null?void 0:e.personalInfo.activatedAccount)===!1?w.push("/auth/activate"):w.push("/dashboard/overview")}catch{d.value="Failed to reset password."}finally{p.value=!1}};return(e,l)=>{const B=o("v-img"),N=o("v-card-title"),y=o("v-text-field"),M=o("v-container"),g=o("v-icon"),x=o("v-btn"),U=o("v-tooltip"),j=o("v-form"),z=o("v-card-text"),A=o("v-alert"),E=o("v-card");return b(),G(E,{class:"reset-card mt-4 ml-2",elevation:"4",outlined:"",rounded:""},{default:s(()=>[t(N,{class:"text-center"},{default:s(()=>[t(B,{style:{height:"12rem"},src:"https://a2z-v0.s3.eu-central-1.amazonaws.com/Screenshot+from+2024-10-22+16-31-16.png"}),$]),_:1}),t(z,null,{default:s(()=>[t(j,{onSubmit:J(q,["prevent"])},{default:s(()=>[t(M,null,{default:s(()=>[t(y,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),type:u.value?"text":"password",label:"Password","append-icon":u.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:append":V,rules:R,required:""},null,8,["modelValue","type","append-icon"]),t(y,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=r=>m.value=r),type:i.value?"text":"password",label:"Confirm Password","append-icon":i.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:append":k,rules:S,required:""},null,8,["modelValue","type","append-icon"])]),_:1}),v("div",ee,[t(x,{disabled:I.value,style:{width:"15rem"},type:"submit",color:"primary",loading:p.value},{default:s(()=>[t(g,{class:"mr-sm"},{default:s(()=>[_("mdi-location-enter")]),_:1}),_(" Reset Password ")]),_:1},8,["disabled","loading"]),t(U,{location:"top"},{activator:s(({props:r})=>[t(x,K({class:"ml-xs",color:"primary",icon:"",height:"30",variant:"outlined"},r,{to:"/welcome"}),{default:s(()=>[t(g,null,{default:s(()=>[_("mdi-home-account")]),_:1})]),_:2},1040)]),default:s(()=>[te]),_:1})])]),_:1})]),_:1}),d.value?(b(),O("div",oe,[t(A,{text:d.value,title:"Reset error",type:"error"},null,8,["text"])])):Q("",!0)]),_:1})}}});const ce=Z(se,[["__scopeId","data-v-3a2b13e2"]]);export{ce as default};
